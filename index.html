<!DOCTYPE html>
<html>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->

  <head>
    <base href="/" />
    <!-- http替换为https -->
    <!-- <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" /> -->

    <meta charset="UTF-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta name="description" content="A new Flutter project." />

    <!-- iOS meta tags & icons -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="嗨耍成都" />
    <link rel="apple-touch-icon" href="icons/Icon-192.png" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png" />

    <title>嗨耍成都</title>
    <link rel="manifest" href="manifest.json" />

    <script>
      // The value below is injected by flutter build, do not touch.
      var serviceWorkerVersion = "3156196319";
    </script>
    <script>
      var date = new Date();
      console.log('首页开始加载时间', date, date.getMilliseconds());
    </script>
    <!-- This script adds the flutter initialization JS code -->
    <script src="flutter.js" defer=""></script>
    <script src="js/jsQr.js" defer=""></script>
    <script src="js/scan.js" defer=""></script>
    <!-- <script src="js/html5-qrcode.min.js" defer=""></script> -->
    <script src="js/qrcodeParser.js" defer=""></script>
    <script src="js/utils.js"></script>
    <script src="js/b64toBlob.js" defer=""></script>
    <!--<script src="https://unpkg.com/@zxing/library@0.19.1" defer=""></script>-->
    <script src="js/zxing.js" defer=""></script>
    <!-- 引入微信sdk; -->
    <script
      src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"
      type="text/javascript"
    ></script>
    <script src="js/wx.js"></script>

    <link rel="stylesheet" type="text/css" href="splash/style.css" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
      name="viewport"
    />
    <script src="splash/splash.js"></script>
    <script>
      try {
        (function (w, a, m) {
          m = '__qq_qidian_da_market';
          w[m] = a;
          w[a] =
            w[a] ||
            function () {
              (w[a][m] = w[a][m] || []).push(arguments);
            };
        })(window, 'qidianDA');

        console.log('qidianDA init success');
      } catch (e) {
        console.log('qidianDA init error', e);
      }
    </script>

    <script src="https://cdp.028wlkj.com/da_market/i.js" async=""></script>
    <script src="js/maidian.js"></script>

    <!-- 
        <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
    <script>
      // VConsole will be exported to `window.VConsole` by default.
      var vConsole = new window.VConsole();
    </script>
-->

    <!-- <script type="text/javascript">
        window._AMapSecurityConfig = {
            securityJsCode: '',
        }
    </script>
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.15&key=xxxx"></script> -->
  </head>

  <body>
    <picture id="splash">
      <!-- <source srcset="splash/img/light-1x.png 1x, splash/img/light-2x.png 2x, splash/img/light-3x.png 3x, splash/img/light-4x.png 4x" media="(prefers-color-scheme: light)">
        <source srcset="splash/img/dark-1x.png 1x, splash/img/dark-2x.png 2x, splash/img/dark-3x.png 3x, splash/img/dark-4x.png 4x" media="(prefers-color-scheme: dark)"> -->
      <img
        class="center"
        aria-hidden="true"
        src="splash/img/loading-plane.gif"
        alt=""
        style="width: 25%"
      />
    </picture>

    <script>
      changeSiteTitle();
      // initWxEnvGLobal()

      //拦截返回按钮
      // window.onpopstate = function(event) {
      //     alert(
      //         "location: " +
      //         document.location +
      //         ", state: " +
      //         JSON.stringify(event.state),
      //     );
      // };

      window.addEventListener('load', function (ev) {
        // Download main.dart.js
        _flutter.loader
          .loadEntrypoint({
            entrypointUrl: 'main.dart.js?v=' + serviceWorkerVersion,
            serviceWorker: {
              serviceWorkerVersion: serviceWorkerVersion,
            },
          })
          .then(function (engineInitializer) {
            return engineInitializer.initializeEngine();
          })
          .then(function (appRunner) {
            return appRunner.runApp();
          });
      });
    </script>
  </body>
</html>
